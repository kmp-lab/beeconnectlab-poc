# 비커넥트랩 - 개발 로드맵

## 전체 개발 단계 요약

| 단계    | 이름                    | 주요 내용                           |
| ------- | ----------------------- | ----------------------------------- |
| Phase 0 | 프로젝트 초기화         | 모노레포 세팅, DB 설정, 인프라      |
| Phase 1 | 인증 시스템             | 청년/관리자 가입, 로그인, JWT       |
| Phase 2 | 프로그램/공고 관리      | 관리자 CRUD, 상태 관리              |
| Phase 3 | 공고 탐색/지원          | 청년 공고 조회, 지원서 제출         |
| Phase 4 | 지원서 관리             | 관리자 지원서 심사, 평가, 상태 변경 |
| Phase 5 | 참여 활동/프로그램 평가 | 활동 관리, 참가자 평가              |
| Phase 6 | 청년 인재 관리          | 인재 목록/상세, 메모, 엑셀          |
| Phase 7 | 마이페이지/콘텐츠       | 마이페이지, 인터뷰 관리             |
| Phase 8 | 마무리                  | QA, 시드 데이터, 배포               |

---

## Phase 0: 프로젝트 초기화

### 목표

모노레포 기반 프로젝트 뼈대 구축 및 개발 환경 세팅

### 작업 목록

- [ ] pnpm workspace + Turborepo 설정
  - `pnpm-workspace.yaml`
  - `turbo.json` (build, dev, lint 파이프라인)
  - `tsconfig.base.json`
- [ ] `apps/api` NestJS 프로젝트 생성
  - TypeORM + PostgreSQL 연결
  - 환경변수 관리 (`@nestjs/config`)
  - 공통 모듈: 에러 필터, ValidationPipe, CORS
- [ ] `apps/web` Next.js 프로젝트 생성
  - App Router 기본 구조
  - Tailwind CSS 설정
- [ ] `apps/admin` Next.js 프로젝트 생성
  - App Router 기본 구조
  - Tailwind CSS 설정
- [ ] `packages/shared-types` 공유 타입 패키지
- [ ] `packages/eslint-config` 공유 린트 설정
- [ ] `docker-compose.yml` (PostgreSQL)
- [ ] `.env.example` 작성
- [ ] TypeORM 엔티티 전체 정의 + 마이그레이션
  - users, admins, programs, announcements
  - applications, application_evaluations, application_status_logs
  - activities, interviews, user_notes
- [ ] 시드 스크립트 (최초 관리자 계정 1개)

### 산출물

- 모노레포 구조 완성
- `pnpm dev` 한 번으로 api + web + admin 동시 실행
- DB 테이블 전체 생성 완료

---

## Phase 1: 인증 시스템

### 목표

청년 사용자와 관리자의 가입/로그인/인증 체계 구축

### 백엔드 (apps/api)

- [ ] Auth 모듈 기본 구조 (JWT 전략, Guard)
- [ ] 청년 - 이메일 가입 (`POST /auth/register`)
  - 이메일 형식 유효성, 중복 확인
  - 비밀번호 해싱 (bcrypt)
  - 부가정보 + 이용약관 동의 저장
- [ ] 청년 - 이메일 로그인 (`POST /auth/login`)
- [ ] 청년 - 카카오 OAuth (`GET /auth/kakao`)
- [ ] 청년 - 구글 OAuth (`GET /auth/google`)
- [ ] 청년 - 소셜 회원가입 (`POST /auth/register/social`)
- [ ] 비밀번호 재설정 (이메일 발송 + 토큰 기반 변경)
- [ ] JWT 발급 (Access + Refresh), 쿠키 관리
- [ ] 토큰 갱신 (`POST /auth/refresh`)
- [ ] 로그아웃 (`POST /auth/logout`)
- [ ] 관리자 - 이메일 가입 (`POST /admin/auth/register`)
- [ ] 관리자 - 이메일 로그인 (`POST /admin/auth/login`)
- [ ] 관리자 - 가입 승인 (`PATCH /admin/accounts/:id/approve`)
- [ ] 관리자 - 계정 삭제 (`DELETE /admin/accounts/:id`)
- [ ] 관리자 - 계정 목록 (`GET /admin/accounts`)
- [ ] 역할 기반 Guard (`UserGuard`, `AdminGuard`)

### 프론트엔드 (apps/web)

- [ ] 로그인 페이지 (소셜 3종 + 이메일)
- [ ] 이메일 로그인 폼
- [ ] 회원가입 폼 (계정정보 + 부가정보 + 약관)
- [ ] 소셜 회원가입 폼 (부가정보 + 약관)
- [ ] 비밀번호 재설정 화면
- [ ] 인증 상태 관리 (쿠키 기반)

### 프론트엔드 (apps/admin)

- [ ] 관리자 로그인 페이지
- [ ] 관리자 가입 신청 페이지
- [ ] 관리자 계정 관리 페이지 (목록 + 승인/삭제)

---

## Phase 2: 프로그램 / 공고 관리 (관리자)

### 목표

관리자가 프로그램과 공고를 CRUD 할 수 있는 관리 화면 구축

### 백엔드

- [ ] 프로그램 CRUD API
  - `GET/POST /admin/programs`
  - `GET/PATCH/DELETE /admin/programs/:id`
  - 프로그램 상태 자동 산정 로직 (활동기간 기준)
- [ ] 공고 CRUD API
  - `GET/POST /admin/announcements`
  - `GET/PATCH/DELETE /admin/announcements/:id`
  - `POST /admin/announcements/:id/duplicate` (복제)
  - 게시 상태 / 모집 상태 관리 로직
  - 모집 상태 자동 산정 + 수동 변경 지원
  - 조회수 카운트
- [ ] 파일 업로드 API (`POST /files/upload`)
  - S3 업로드 + URL 반환
  - 이미지/문서 타입 검증
- [ ] 지역 데이터 API (시/도, 시/군/구 목록)

### 프론트엔드 (apps/admin)

- [ ] 프로그램 목록 페이지
- [ ] 프로그램 생성 폼 (지역 선택 동적 드롭다운, 혜택 체크박스)
- [ ] 프로그램 관리(수정) 페이지 (정보 수정 + 공고 목록 + 참가자 목록)
- [ ] 공고 목록 페이지 (모집 상태 필터)
- [ ] 공고 생성 폼 (모집 관리 + 공고 내용 + 이후 일정)
  - 텍스트 에디터 (공고 상세)
  - 이미지 업로드 (썸네일)
  - 프로그램 선택 드롭다운
- [ ] 공고 수정 페이지
- [ ] 공고 복제 기능
- [ ] 공고 삭제 (확인 다이얼로그 + 토스트)

---

## Phase 3: 공고 탐색 / 지원 (청년)

### 목표

청년 사용자가 공고를 탐색하고 지원서를 제출

### 백엔드

- [ ] 공고 목록 API (게시 상태 필터, 공개용)
  - `GET /announcements`
- [ ] 공고 상세 API + 조회수 증가
  - `GET /announcements/:id`
- [ ] 지원서 제출 API
  - `POST /applications`
  - 프로필 자동 입력 정보 검증
  - 파일 URL 연결
  - 상태: `지원 완료` 자동 설정

### 프론트엔드 (apps/web)

- [ ] 공고 목록 페이지 (카드 그리드)
  - 썸네일, 모집 상태 배지, D-day, 공고명, 지역, 혜택 칩
- [ ] 공고 상세 페이지
  - 기본 정보 + 상세 내용 + 이후 일정
  - 지원하기 버튼 (조건부 활성화)
  - 비로그인 시 로그인 페이지 리다이렉트 (returnUrl)
- [ ] 지원서 작성 페이지
  - 프로필 자동 입력 (읽기 전용)
  - 파일 업로드
  - 인지 경로 선택
- [ ] 지원 완료 페이지

---

## Phase 4: 지원서 관리 (관리자)

### 목표

관리자가 지원서를 조회/심사/평가하고 합격 상태를 관리

### 백엔드

- [ ] 지원서 목록 API (필터: 지원 상태 + 공고, 페이지네이션)
- [ ] 지원서 상세 API
- [ ] 지원 상태 변경 API (전이 규칙 검증)
  - 최종 합격 시 → Activity 자동 생성
- [ ] 지원 상태 변경 이력 저장
- [ ] 지원서 평가 CRUD API
- [ ] 엑셀 다운로드 API (exceljs)

### 프론트엔드 (apps/admin)

- [ ] 지원서 목록 페이지
  - 지원 상태 필터 (복수 선택)
  - 공고 필터 (복수 선택)
  - 페이지네이션 (10건/페이지)
  - 엑셀 다운로드 버튼
- [ ] 지원서 상세 페이지
  - 프로필 영역 (클릭 → 인재 상세 새탭)
  - 첨부파일 뷰어 + 다운로드
  - 지원 상태 변경 (드롭다운 + 다이얼로그)
  - 평가 점수 입력 (슬라이더 3개 + 메모)
  - 평가 이력 표시 + 삭제
  - 이전/다음 지원서 이동

---

## Phase 5: 참여 활동 / 프로그램 평가

### 목표

최종 합격자의 참여 활동 관리 및 프로그램 종료 후 참가자 평가

### 백엔드

- [ ] 참여 활동 상태 자동 산정 로직
  - 활동 기간 기준: 예정 → 활동중 → 기간종료
- [ ] 참여 활동 상태 수동 변경 API (수료, 중도 이탈)
- [ ] 프로그램 참가자 목록 API
- [ ] 프로그램 참가자 평가 API (점수, 역할, 코멘트, 참여상태)

### 프론트엔드 (apps/admin)

- [ ] 프로그램 관리 페이지 - 참가자 목록 영역 완성
- [ ] 프로그램 참가자 평가 페이지
  - 좌: 참가자 목록 (선택)
  - 우: 평가 폼 (슬라이더 + 텍스트 + 드롭다운)

---

## Phase 6: 청년 인재 관리 (관리자)

### 목표

관리자가 가입한 청년 인재를 검색/필터/관리

### 백엔드

- [ ] 인재 목록 API (검색 + 필터 + 페이지네이션)
- [ ] 인재 상세 API
- [ ] 계정 상태 변경 API (활성/비활성/탈퇴)
- [ ] 특정 이력 / 관리 리스크 변경 API
- [ ] 메모 CRUD API
- [ ] 인재 엑셀 다운로드 API

### 프론트엔드 (apps/admin)

- [ ] 인재 목록 페이지
  - 이름 검색
  - 필터: 활동상태, 특정이력, 관리리스크, 최근참여활동
  - 페이지네이션 (10명/페이지)
  - 엑셀 다운로드
- [ ] 인재 상세 페이지
  - 프로필/직무/계정 정보
  - 활성/비활성 토글
  - 공고 지원 이력 테이블
  - 참여 활동 테이블
  - 특정 이력 / 관리 리스크 드롭다운
  - 메모 입력 + 이력 표시 + 삭제

---

## Phase 7: 마이페이지 / 콘텐츠

### 목표

청년 마이페이지 및 콘텐츠(인터뷰) 관리 완성

### 백엔드

- [ ] 내 정보 조회/수정 API
- [ ] 내 지원 이력 API
- [ ] 내 참여 활동 API
- [ ] 인터뷰 CRUD API (관리자)
- [ ] 인터뷰 공개 목록 API

### 프론트엔드 (apps/web)

- [ ] 마이페이지 (정보 확인)
  - 프로필/직무/계정 정보
  - 공고 지원 이력 테이블 (첨부파일 다운로드)
  - 참여 활동 테이블
- [ ] 내 정보 수정 페이지
  - 프로필 이미지 업로드
  - 드롭다운/텍스트 수정
  - 마케팅 동의 토글
- [ ] 소개 페이지 (`/about`)
- [ ] 인터뷰 목록 페이지
  - 카드 그리드 (썸네일, 제목, 설명)
  - 클릭 시 새탭으로 외부 링크

### 프론트엔드 (apps/admin)

- [ ] 인터뷰 목록 페이지
- [ ] 인터뷰 등록/수정 폼

---

## Phase 8: 마무리

### 목표

QA, 시드 데이터, 배포 준비

### 작업 목록

- [ ] 전체 API 통합 테스트
- [ ] 프론트엔드 E2E 테스트 (주요 플로우)
- [ ] 시드 데이터 스크립트 (데모용)
  - 관리자 1명
  - 프로그램 3개
  - 공고 5개 (각 상태별)
  - 청년 사용자 10명
  - 지원서 20건
- [ ] 에러 핸들링 점검 (토스트, 에러 페이지)
- [ ] 반응형 UI 점검
- [ ] 보안 점검
  - CORS 설정
  - Rate limiting
  - 입력값 Sanitize
  - SQL Injection 방지 (TypeORM 파라미터 바인딩)
- [ ] 환경별 설정 분리 (dev / staging / production)
- [ ] 배포 스크립트 / CI/CD 파이프라인
- [ ] README 작성

---

## 보류 항목 (MVP 이후)

| 항목                  | 설명                                             |
| --------------------- | ------------------------------------------------ |
| 공고 상세 비필수 정보 | 혜택정보, 결과발표, 사전교육, 현장체류 일정 표시 |
| 공고 미리보기         | 생성/수정 중 미리보기 기능                       |
| 청년 탈퇴             | 사용자 직접 탈퇴 (탈퇴 정책 수립 후)             |
| 휴면 계정             | 장기간 미접속 계정 자동 전환                     |
| 관리자 권한 관리      | 조직별/역할별 접근 권한                          |
| 다중 조직             | 비커넥트랩 외 조직 확장                          |

---

## 기술 부채 관리 원칙

1. **TypeORM Migration**: 스키마 변경은 반드시 마이그레이션으로 관리
2. **API 버저닝**: 초기에는 단일 버전, 필요 시 `/v2` 접두사
3. **테스트 커버리지**: 핵심 비즈니스 로직 (상태 전이, 자동 산정) 위주
4. **공유 타입**: `packages/shared-types`로 프론트-백 타입 일관성
