# 비커넥트랩 - 핵심 플로우

## 1. 청년 사용자 - 공고 지원 플로우

```
공고 목록 ──→ 공고 상세 ──→ 지원하기 클릭
                                   │
                          ┌────────┴────────┐
                          ▼                  ▼
                     로그인 상태           비로그인 상태
                          │                  │
                          │          로그인/회원가입 화면
                          │                  │
                          │          로그인 또는 가입 완료
                          │                  │
                          └────────┬─────────┘
                                   ▼
                          지원서 작성 화면
                          (이름/이메일/연락처 자동입력)
                          (첨부파일 업로드)
                          (인지경로 선택)
                                   │
                              제출하기 클릭
                                   │
                                   ▼
                          지원 완료 화면
                          ┌────────┴────────┐
                          ▼                  ▼
                    접수 확인하기      다른 프로그램 둘러보기
                    (마이페이지)       (공고 목록)
```

## 2. 청년 사용자 - 회원가입 플로우

### 2.1 이메일 회원가입

```
로그인 화면 ──→ 이메일 로그인 ──→ 회원가입 클릭
                                       │
                                       ▼
                              ┌─────────────────┐
                              │  회원가입 화면     │
                              │                   │
                              │  [계정 정보]       │
                              │  · 이메일 (중복확인)│
                              │  · 비밀번호        │
                              │  · 비밀번호 확인   │
                              │                   │
                              │  [부가 정보 - 필수] │
                              │  · 이름, 전화번호  │
                              │  · 생년월일, 성별  │
                              │                   │
                              │  [부가 정보 - 선택] │
                              │  · 관심지역        │
                              │  · 희망직무        │
                              │  · 보유역량        │
                              │                   │
                              │  [이용약관 동의]    │
                              │  · 필수 3개 + 선택1│
                              └────────┬──────────┘
                                       │
                               회원가입 완료 버튼
                                       │
                                       ▼
                              가입 완료 → 로그인
```

### 2.2 소셜 회원가입

```
로그인 화면 ──→ 카카오/구글 로그인 클릭
                        │
                   OAuth 인증
                        │
               ┌────────┴────────┐
               ▼                  ▼
          기존 회원             신규 회원
          로그인 완료          소셜 회원가입 화면
                              (이메일 자동 입력)
                              (부가 정보 + 약관)
                                   │
                              가입 완료 → 로그인
```

## 3. 비밀번호 재설정 플로우

```
이메일 로그인 ──→ 비밀번호 재설정 클릭
                        │
                        ▼
               이메일 주소 입력
                        │
                  재설정 링크 발송
                        │
                        ▼
               이메일 발송 완료 안내
              (이메일 다시 보내기 버튼)
                        │
                    이메일 수신
                        │
                  재설정 링크 클릭
                        │
                        ▼
               비밀번호 재설정 화면
               · 새 비밀번호 입력
               · 비밀번호 확인
                        │
                   변경 버튼 클릭
                        │
                        ▼
                  재설정 완료 → 로그인
```

## 4. 관리자 - 가입 승인 플로우

```
관리자 가입 신청              기존 관리자
      │                           │
      ▼                           ▼
  가입 정보 입력            관리자 계정 관리 화면
  (이메일,이름,전화번호)          │
      │                    대기 상태 계정 확인
      ▼                           │
  상태: 대기              승인하기 버튼 클릭
  (로그인 불가)                    │
                           확인 다이얼로그
                                  │
                                  ▼
                           상태: 완료
                           (로그인 가능)
```

## 5. 관리자 - 프로그램 → 공고 → 지원 관리 플로우

```
[1단계: 프로그램 생성]
프로그램 목록 → 새 프로그램 등록 → 프로그램 정보 입력 → 저장
      │
      ▼
[2단계: 공고 생성]
공고 목록 → 새 공고 등록 → 프로그램 선택 + 공고 정보 입력 → 저장
      │                        (게시: 게시하지않음, 모집: 모집예정)
      │
      ▼
[3단계: 공고 게시]
공고 수정 → 게시 상태: 게시 → 모집 상태: 모집 중 → 저장
      │         (청년 사용자에게 공고 노출)
      │
      ▼
[4단계: 지원서 접수]
청년 사용자 지원 ──→ 지원서 관리에서 확인
      │
      ▼
[5단계: 지원서 심사]
지원서 상세 → 첨부파일 확인 → 평가 점수 입력
              → 지원 상태 변경 (지원완료 → 1차합격 → 최종합격)
      │
      ▼
[6단계: 최종 합격 → 참여 활동 생성]
지원 상태: 최종 합격 ──→ 참여 활동(Activity) 자동 생성
      │                       │
      │              참여 상태: 활동예정/활동중
      │                  (활동기간 기준 자동)
      ▼
[7단계: 프로그램 종료 후 평가]
프로그램 상태: 종료 → 평가하기 활성화
참가자 선택 → 점수/역할/코멘트/참여상태 입력 → 저장
```

## 6. 지원 상태 전이 다이어그램

```
                    ┌──────────────┐
                    │   지원 완료    │
                    └──────┬───────┘
                           │
              ┌────────────┼────────────┐
              ▼            ▼            ▼
        ┌──────────┐ ┌──────────┐ ┌──────────┐
        │ 1차 합격  │ │ 최종 합격  │ │  불합격   │
        └─────┬────┘ └─────┬────┘ └────┬─────┘
              │            │            │
              ├───→ 최종합격 ←───────────┤
              │            │            │
              ├───→ 불합격  │            │
              │            ├───→ 불합격  │
              │            │            │
              └────────────┼────────────┘
                           │
              최종 합격 시 → Activity 생성
```

## 7. 참여 활동 상태 전이 다이어그램

```
┌─────────────────────────────────────────────────────┐
│                   자동 전이 (활동 기간 기준)             │
│                                                      │
│   활동 예정  ──→  활동 중  ──→  활동 기간 종료           │
│                                                      │
└──────────────────────┬──────────────────────────────┘
                       │
                  운영자 수동 변경
                       │
              ┌────────┴────────┐
              ▼                  ▼
           수료              중도 이탈
```

## 8. 파일 업로드 플로우

```
프론트엔드                    API                        S3
    │                        │                          │
    │  POST /files/upload    │                          │
    │  (multipart/form-data) │                          │
    │───────────────────────>│                          │
    │                        │  S3 PutObject            │
    │                        │─────────────────────────>│
    │                        │                          │
    │                        │  S3 URL 반환              │
    │                        │<─────────────────────────│
    │                        │                          │
    │  { url, filename }     │                          │
    │<───────────────────────│                          │
    │                        │                          │
    │  본문에 url 포함하여     │                          │
    │  폼 제출                │                          │
    │───────────────────────>│                          │
```
